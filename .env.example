# YC-PHP-Code-Analysis MCP Server Environment Configuration
# Copyright: YC-2025Copyright
# Description: Environment variables template for all deployment environments

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Server settings
NODE_ENV=production
MCP_PORT=3000
MCP_HOST=0.0.0.0
LOG_LEVEL=info

# Performance settings
MAX_MEMORY=1024
MAX_WORKERS=4
REQUEST_TIMEOUT=30000
MAX_CONNECTIONS=1000

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# JWT Authentication
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# API Security
API_RATE_LIMIT_WINDOW_MS=900000
API_RATE_LIMIT_MAX_REQUESTS=1000
API_CORS_ORIGINS=*

# Security Headers
SECURITY_HSTS_MAX_AGE=31536000
SECURITY_CONTENT_SECURITY_POLICY=default-src 'self'

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Configuration
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=php_analysis_mcp
POSTGRES_USER=mcpserver
POSTGRES_PASSWORD=postgres123
POSTGRES_SSL_MODE=prefer
POSTGRES_POOL_MIN=2
POSTGRES_POOL_MAX=10

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis123
REDIS_DB=0
REDIS_KEY_PREFIX=yc-php-analysis:
REDIS_POOL_MIN=2
REDIS_POOL_MAX=10

# =============================================================================
# ANALYSIS CONFIGURATION
# =============================================================================

# PHP Analysis Settings
PHP_VERSION=8.2
PHP_MEMORY_LIMIT=512M
PHP_MAX_EXECUTION_TIME=300
PHP_PARSER_CACHE_SIZE=128

# Analysis Types
ANALYSIS_TYPES=syntax,security,performance,quality
ANALYSIS_CACHE_ENABLED=true
ANALYSIS_CACHE_TTL=3600
ANALYSIS_PARALLEL_ENABLED=true

# Security Analysis
SECURITY_SCAN_ENABLED=true
SECURITY_SCAN_SEVERITY=medium
SECURITY_SCAN_RULES=owasp,custom
SECURITY_SCAN_TIMEOUT=120

# Performance Analysis
PERFORMANCE_ANALYSIS_ENABLED=true
PERFORMANCE_THRESHOLD_COMPLEXITY=10
PERFORMANCE_THRESHOLD_MEMORY_MB=1024
PERFORMANCE_THRESHOLD_QUERIES=5
PERFORMANCE_TIMEOUT=60

# =============================================================================
# PLUGIN CONFIGURATION
# =============================================================================

# Plugin System
PLUGINS_ENABLED=true
PLUGINS_DIRECTORY=./plugins
PLUGINS_AUTO_LOAD=true
PLUGINS_SANDBOX_ENABLED=true
PLUGINS_TIMEOUT=30

# Plugin Registry
PLUGIN_REGISTRY_URL=https://registry.yc-2025.com
PLUGIN_REGISTRY_TOKEN=your-registry-token
PLUGIN_AUTO_UPDATE=false

# =============================================================================
# MONITORING AND LOGGING
# =============================================================================

# Monitoring
MONITORING_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics
HEALTH_CHECK_PORT=3000
HEALTH_CHECK_PATH=/health

# Prometheus Metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_HISTOGRAM_BUCKETS=0.1,0.5,1,2,5,10
PROMETHEUS_COLLECT_DEFAULT_METRICS=true

# Logging Configuration
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_FILE_PATH=./logs/mcp-server.log
LOG_FILE_MAX_SIZE=100MB
LOG_FILE_MAX_FILES=10

# Audit Logging
AUDIT_ENABLED=true
AUDIT_LOG_FILE=./logs/audit.log
AUDIT_LOG_LEVEL=info
AUDIT_LOG_REQUESTS=true
AUDIT_LOG_SECURITY=true

# =============================================================================
# INTEGRATION CONFIGURATION
# =============================================================================

# VSCode Extension
VSCODE_EXTENSION_ENABLED=true
VSCODE_EXTENSION_PORT=3001
VSCODE_EXTENSION_AUTO_START=false

# Language Server Protocol
LSP_ENABLED=true
LSP_PORT=3002
LSP_MAX_CLIENTS=50

# Webhook Integration
WEBHOOK_ENABLED=false
WEBHOOK_URL=https://your-webhook-endpoint.com
WEBHOOK_SECRET=your-webhook-secret
WEBHOOK_EVENTS=analysis_complete,error,security_issue

# Git Integration
GIT_INTEGRATION_ENABLED=false
GIT_HOOKS_ENABLED=false
GIT_COMMIT_ANALYSIS=false
GIT_PR_ANALYSIS=false

# =============================================================================
# CLOUD AND DEPLOYMENT
# =============================================================================

# Docker Configuration
DOCKER_REGISTRY=ghcr.io/yc-2025/php-code-analysis-mcp-server
DOCKER_TAG=latest
DOCKER_BUILD_ARGS=

# Kubernetes Configuration
K8S_NAMESPACE=yc-php-analysis
K8S_SERVICE_ACCOUNT=yc-php-analysis-sa
K8S_CLUSTER_ROLE=yc-php-analysis-role

# Cloud Provider Settings (AWS/Azure/GCP)
CLOUD_PROVIDER=
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AZURE_SUBSCRIPTION_ID=
AZURE_CLIENT_ID=
AZURE_CLIENT_SECRET=
GCP_PROJECT_ID=
GCP_SERVICE_ACCOUNT_KEY=

# =============================================================================
# DEVELOPMENT AND TESTING
# =============================================================================

# Development Settings
DEV_MODE=false
DEV_AUTO_RESTART=true
DEV_WATCH_FILES=true
DEV_DEBUG_PORT=9229

# Testing Configuration
TEST_DATABASE_URL=postgresql://testuser:testpass@localhost:5432/testdb
TEST_REDIS_URL=redis://localhost:6379/1
TEST_TIMEOUT=30000
TEST_PARALLEL=true

# Mock Services
MOCK_SERVICES_ENABLED=false
MOCK_PHP_PARSER=false
MOCK_SECURITY_SCANNER=false

# =============================================================================
# BUSINESS AND ANALYTICS
# =============================================================================

# License Configuration
LICENSE_TYPE=community
LICENSE_KEY=
LICENSE_EXPIRY=
LICENSE_FEATURES=basic_analysis,community_plugins

# Analytics and Telemetry
ANALYTICS_ENABLED=true
TELEMETRY_ENABLED=true
ANONYMOUS_USAGE_STATS=true
ERROR_REPORTING=true

# Business Metrics
BUSINESS_METRICS_ENABLED=false
CONVERSION_TRACKING=false
A_B_TESTING=false

# =============================================================================
# NOTIFICATION CONFIGURATION
# =============================================================================

# Email Notifications
EMAIL_ENABLED=false
EMAIL_SMTP_HOST=smtp.gmail.com
EMAIL_SMTP_PORT=587
EMAIL_SMTP_USER=your-email@gmail.com
EMAIL_SMTP_PASS=your-app-password
EMAIL_FROM_ADDRESS=noreply@yc-2025.com
EMAIL_FROM_NAME="YC PHP Analysis"

# Slack Integration
SLACK_ENABLED=false
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=#php-analysis
SLACK_USERNAME=YC-PHP-Bot
SLACK_EMOJI=:robot_face:

# Discord Integration
DISCORD_ENABLED=false
DISCORD_WEBHOOK_URL=
DISCORD_USERNAME=YC-PHP-Bot
DISCORD_AVATAR_URL=

# =============================================================================
# BACKUP AND RECOVERY
# =============================================================================

# Backup Configuration
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_TYPE=local
BACKUP_STORAGE_PATH=./backups

# S3 Backup (if using S3 storage)
BACKUP_S3_BUCKET=
BACKUP_S3_REGION=
BACKUP_S3_ACCESS_KEY=
BACKUP_S3_SECRET_KEY=

# Recovery Settings
AUTO_RECOVERY_ENABLED=true
RECOVERY_MAX_ATTEMPTS=3
RECOVERY_RETRY_INTERVAL=300

# =============================================================================
# ADVANCED CONFIGURATION
# =============================================================================

# Advanced PHP Settings
PHP_OPCACHE_ENABLED=true
PHP_OPCACHE_MEMORY=128
PHP_XDEBUG_ENABLED=false
PHP_COMPOSER_CACHE_ENABLED=true

# Advanced Security
SECURITY_IP_WHITELIST=
SECURITY_IP_BLACKLIST=
SECURITY_REQUIRE_TLS=false
SECURITY_TLS_MIN_VERSION=1.2

# Advanced Performance
PERFORMANCE_CPU_PROFILING=false
PERFORMANCE_MEMORY_PROFILING=false
PERFORMANCE_QUERY_PROFILING=false
PERFORMANCE_SLOW_QUERY_THRESHOLD=1000

# Advanced Logging
LOG_STRUCTURED=true
LOG_CORRELATION_ID=true
LOG_REQUEST_ID=true
LOG_USER_AGENT=true
LOG_IP_ADDRESS=true

# Feature Flags
FEATURE_FLAG_NEW_PARSER=false
FEATURE_FLAG_EXPERIMENTAL_ANALYSIS=false
FEATURE_FLAG_BETA_UI=false
FEATURE_FLAG_ADVANCED_CACHING=false

# =============================================================================
# ENVIRONMENT-SPECIFIC OVERRIDES
# =============================================================================

# Development Environment
# Uncomment and modify for development
# NODE_ENV=development
# LOG_LEVEL=debug
# PLUGINS_SANDBOX_ENABLED=false
# SECURITY_REQUIRE_TLS=false

# Staging Environment
# Uncomment and modify for staging
# NODE_ENV=staging
# LOG_LEVEL=info
# ANALYTICS_ENABLED=false
# MOCK_SERVICES_ENABLED=true

# Production Environment
# Uncomment and modify for production
# NODE_ENV=production
# LOG_LEVEL=warn
# SECURITY_REQUIRE_TLS=true
# BACKUP_ENABLED=true
# MONITORING_ENABLED=true